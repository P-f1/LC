"use strict";var __extends=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var core_1=require("@angular/core"),wi_contrib_1=require("wi-studio/app/contrib/wi-contrib"),contrib_1=require("wi-studio/common/models/contrib"),Observable_1=require("rxjs/Observable"),validation_1=require("wi-studio/common/models/validation"),KubernetesDeployment=function(e){function t(){var t=e.call(this)||this;return t.value=function(e,t){return null},t.validate=function(e,t){if(console.log("------------- validate --------------"),console.log(t),console.log("%%%%%%%%%% name = "+e),"Connect"===e){for(var n=void 0,o=void 0,r=void 0,i=0,a=t.settings;i<a.length;i++){var l=a[i];"template"===l.name&&(n=l,l.value&&(o=l.value.filename,(r=l.value.content)&&(r=r.substr(r.indexOf(",")+1),r=atob(r)),console.log("filename = "+o),console.log("content = "+r)))}return n.value?validation_1.ValidationResult.newValidationResult().setReadOnly(!1):validation_1.ValidationResult.newValidationResult().setReadOnly(!0)}return null},t.action=function(e,t){return"Connect"==e?(console.log("------------- action click connect --------------"),Observable_1.Observable.create(function(e){console.log("------------- action callback --------------");for(var n,o=0,r=t.settings;o<r.length;o++){var i=r[o];"template"===i.name&&(n=i,console.log(n.value))}var a={context:t,authType:wi_contrib_1.AUTHENTICATION_TYPE.BASIC,authData:{}};e.next(contrib_1.ActionResult.newActionResult().setSuccess(!0).setResult(a))})):null},t}return __extends(t,e),t=__decorate([wi_contrib_1.WiContrib({}),core_1.Injectable(),__metadata("design:paramtypes",[])],t)}(wi_contrib_1.WiServiceHandlerContribution);exports.KubernetesDeployment=KubernetesDeployment;